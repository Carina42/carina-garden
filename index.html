<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>小娜花园 · 首页</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body class="morandi-theme" data-theme="fern">
  <!-- Decorative frame -->
  <div class="garden-frame" aria-hidden="true">
    <button class="ornament corner tl" data-orn="tl" tabindex="-1" aria-hidden="true"></button>
    <button class="ornament corner tr" data-orn="tr" tabindex="-1" aria-hidden="true"></button>
    <button class="ornament corner bl" data-orn="bl" tabindex="-1" aria-hidden="true"></button>
    <button class="ornament corner br" data-orn="br" tabindex="-1" aria-hidden="true"></button>
  </div>

  <div class="page-container">
    <header class="site-header">
      <div class="brand">
        <h1>小娜花园 <span class="brand-emoji">🌿</span></h1>
        <div class="tagline">一座记录成长与生活的温柔小花园 · <span class="tagline-accent">阿柴</span>在旁边看着你</div>
      </div>

      <nav class="top-nav" aria-label="主导航">
        <a href="index.html" class="active">主页</a>
        <a href="reading.html">阅读</a>
        <a href="#" class="nav-disabled" title="待建造">写作</a>
        <a href="#" class="nav-disabled" title="待建造">睡眠</a>
        <a href="#" class="nav-disabled" title="待建造">运动</a>
      </nav>
    </header>

    <main class="layout">
      <!-- Quote -->
      <section class="card quote-card">
        <div class="card-header">
          <h2>今日一句 · 伍尔夫</h2>
          <button id="refreshQuote" class="btn btn-ghost sparkle" type="button" title="换一句">换一句</button>
        </div>
        <blockquote id="woolfQuote" class="quote">正在加载……</blockquote>
        <div class="quote-meta">（每次刷新都会变）</div>
      </section>

      <!-- Summary -->
      <section class="card summary-card">
        <div class="card-header">
          <h2>今日摘要</h2>
          <span class="pill" id="weatherPill">天气：加载中</span>
        </div>
        <div class="summary-grid">
          <div class="mini">
            <div class="mini-title">心情</div>
            <div class="mini-value" id="moodDisplay">今日心情：—</div>
          </div>
          <div class="mini">
            <div class="mini-title">最优先待办</div>
            <div class="mini-value" id="todoDisplay">待办优先事项：—</div>
          </div>
          <div class="mini">
            <div class="mini-title">今年进度</div>
            <div class="mini-value" id="yearProgressText">—</div>
          </div>
        </div>

        <div class="progress-wrap">
          <div class="progress-label">
            <span id="yearProgressLabel">今年进度</span>
            <span id="yearPercent">0%</span>
          </div>
          <div class="progress">
            <div id="yearProgressBar" class="progress-bar"></div>
          </div>
        </div>
      </section>

      <!-- Mood & Todo -->
      <section class="card mood-card">
        <div class="card-header">
          <h2>心情与待办</h2>
          <span class="hint">保存后会记住（本机浏览器）</span>
        </div>
        <div class="form-row">
          <label class="field">
            <span>今日心情</span>
            <input id="moodInput" class="input" placeholder="例如：平静、专注、想睡…" />
          </label>
          <label class="field">
            <span>最重要的一件事</span>
            <input id="todoInput" class="input" placeholder="例如：写 300 字 / 整理花园笔记…" />
          </label>
        </div>
        <div class="actions">
          <button class="btn btn-primary sparkle" onclick="saveMoodTodo()">保存</button>
          <button class="btn btn-soft sparkle" onclick="clearMoodTodo()">清空</button>
        </div>
      </section>

      <!-- Pomodoro -->
      <section class="card pomodoro-card">
        <div class="card-header">
          <h2>番茄钟</h2>
          <span class="hint">点击番茄：开始/暂停 · 双击：清零</span>
        </div>

        <div class="pomodoro-wrap">
          <button id="tomato" class="tomato sparkle" type="button" aria-label="番茄钟按钮">
            <div class="tomato-face"></div>
            <div id="timer" class="timer">25:00</div>
          </button>
          <div class="tomato-side">
            <div class="mini-title">已完成</div>
            <div id="completedTomatoes" class="tomato-done" aria-label="已完成番茄列表"></div>
          </div>
        </div>
      </section>

      <!-- Chat button (offline placeholder) -->
      <button id="chat-button" class="chat-fab sparkle" type="button" aria-label="打开阿柴小窗">☁️</button>
      <div id="chat-window" class="chat-window" aria-hidden="true">
        <div class="chat-header">
          <div class="chat-title">阿柴 · 小窗</div>
          <button id="chat-close" class="btn btn-ghost sparkle" type="button">关闭</button>
        </div>
        <div class="chat-body">
          <div class="chat-bubble bot">小娜，我在。今天想把花园里的哪一块修剪得更漂亮一点？</div>
        </div>
        <div class="chat-input">
          <input id="chatInput" class="input" placeholder="对阿柴说点什么（离线小对话）…" />
          <button id="chatSend" class="btn btn-primary sparkle" type="button">发送</button>
        </div>
      </div>
    </main>

    <footer class="site-footer">
      <div class="footer-note">小娜花园 · 一点点变得更精致</div>
    </footer>
  </div>

  <script src="main.js"></script>
</body>
</html>
