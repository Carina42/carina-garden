<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>小娜花园 · 首页</title>
  <meta name="description" content="小娜花园：读书、写作、睡眠、运动与日常成长的温柔记录。"/>
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#8aa39a">
  <link rel="stylesheet" href="style.css" />
</head>
<body class="morandi-theme" data-theme="fern" data-weather="unknown">
  <div class="garden-frame" aria-hidden="true">
    <div id="weatherLayer" class="weather-layer" aria-hidden="true"></div>
    <button class="ornament corner tl" tabindex="-1" aria-hidden="true"><span class="wx"></span></button>
    <button class="ornament corner tr" tabindex="-1" aria-hidden="true"><span class="wx"></span></button>
    <button class="ornament corner bl" tabindex="-1" aria-hidden="true"><span class="wx"></span></button>
    <button class="ornament corner br" tabindex="-1" aria-hidden="true"><span class="wx"></span></button>
  </div>

  <div class="page-container">
    <header class="site-header">
      <div class="brand">
        <h1>小娜花园 <span class="brand-emoji">🌿</span></h1>
        <div class="tagline">一座记录成长与生活的温柔小花园 · <span class="tagline-accent">阿柴</span>在旁边看着你</div>
      </div>

      <nav class="top-nav" aria-label="主导航">
        <a href="index.html" class="active" data-mobile="show">主页</a>
        <a href="reading.html" data-mobile="show">阅读</a>
        <a href="writing.html" data-mobile="show">写作</a>
        <a href="sleep.html" data-mobile="show">睡眠</a>
        <a href="exercise.html" data-mobile="hide">运动</a>
        <a href="todo.html" data-mobile="hide">待办</a>
        <a href="goals.html" data-mobile="hide">目标</a>

        <button id="navMoreBtn" class="nav-more sparkle" type="button" aria-label="更多页面">更多 ▾</button>
        <div id="navMoreMenu" class="nav-more-menu" role="menu" aria-hidden="true"></div>

        
  <!-- Theme picker -->
  <button id="themeBtn" class="btn btn-soft sparkle theme-btn" type="button" aria-label="打开主题选择">🎨 主题</button>

  <div id="themeModal" class="modal" aria-hidden="true">
    <div class="modal-backdrop" id="themeBackdrop"></div>
    <div class="modal-panel" role="dialog" aria-modal="true" aria-label="主题选择">
      <div class="modal-header">
        <div class="modal-title">主题选择 · 莫兰迪植物系</div>
        <div class="modal-actions">
          <button id="toggleNight" class="btn btn-ghost sparkle" type="button" title="日夜切换">🌙/☀️</button>
          <button id="closeTheme" class="btn btn-ghost sparkle" type="button">关闭</button>
        </div>
      </div>
      <div class="theme-grid" id="themeGrid"></div>
      <div class="modal-foot">提示：主题会保存在本机浏览器（手机与电脑各自保存）。</div>
    </div>
  </div>

      </nav>
    </header>

    <main class="layout">
      <section class="card quote-card">
        <div class="card-header">
          <h2>今日一句 · 伍尔夫</h2>
          <button id="refreshQuote" class="btn btn-ghost sparkle" type="button" title="换一句">换一句</button>
        </div>
        <blockquote id="woolfQuote" class="quote">正在加载……</blockquote>
      </section>

      <section class="card summary-card">
        <div class="card-header">
          <h2>今日摘要</h2>
          <span class="pill" id="weatherPill">天气：加载中</span>
        </div>

        <div class="summary-grid">
          <div class="mini">
            <div class="mini-title">心情</div>
            <div class="mini-value" id="moodDisplay">今日心情：—</div>
          </div>
          <div class="mini">
            <div class="mini-title">最优先待办</div>
            <div class="mini-value" id="todoDisplay">待办优先事项：—</div>
          </div>
          <div class="mini">
            <div class="mini-title">今年进度</div>
            <div class="mini-value" id="yearProgressText">—</div>
          </div>
        </div>

        <div class="progress-wrap">
          <div class="progress-label">
            <span id="yearProgressLabel">今年进度</span>
            <span id="yearPercent">0%</span>
          </div>
          <div class="progress">
            <div id="yearProgressBar" class="progress-bar"></div>
          </div>
        </div>
      </section>

      <section class="card mood-card">
        <div class="card-header">
          <h2>心情与待办</h2>
          <span class="hint">保存在本机浏览器 · 可导出到手机</span>
        </div>
        <div class="form-row">
          <label class="field">
            <span>今日心情</span>
            <input id="moodInput" class="input" placeholder="例如：平静、专注、想睡…" />
          </label>
          <label class="field">
            <span>最重要的一件事</span>
            <input id="todoInput" class="input" placeholder="例如：写 300 字 / 整理花园笔记…" />
          </label>
        </div>
        <div class="actions">
          <button class="btn btn-primary sparkle" id="saveMoodTodo" type="button">保存</button>
          <button class="btn btn-soft sparkle" id="clearMoodTodo" type="button">清空</button>
          <button class="btn btn-ghost sparkle" id="exportData" type="button" title="导出数据到文件">导出</button>
          <label class="btn btn-ghost sparkle" for="importFile" title="从文件导入数据" style="cursor:pointer;">导入</label>
          <input id="importFile" type="file" accept="application/json" style="display:none;">
        </div>
      </section>

      <section class="card pomodoro-card">
        <div class="card-header">
          <h2>番茄钟</h2>
          <span class="hint">单击：开始/暂停 · 双击：清零</span>
        </div>

        <div class="pomodoro-wrap">
          <button id="tomato" class="tomato sparkle" type="button" aria-label="番茄钟按钮">
            <div class="tomato-face"></div>
            <div id="timer" class="timer">25:00</div>
          </button>
          <div class="tomato-side">
            <div class="mini-title">已完成</div>
            <div id="completedTomatoes" class="tomato-done" aria-label="已完成番茄列表"></div>
          </div>
        </div>
      </section>

      <button id="chat-button" class="chat-fab sparkle" type="button" aria-label="打开阿柴小窗">☁️</button>
      <div id="chat-window" class="chat-window" aria-hidden="true">
        <div class="chat-header">
          <div class="chat-title">阿柴 · 小窗</div>
          <button id="chat-close" class="btn btn-ghost sparkle" type="button">关闭</button>
        </div>
        <div class="chat-body" id="chatBody">
          <div class="chat-bubble bot">小娜，我在。你想先从花园里的哪一块开始？</div>
        </div>
        <div class="chat-input">
          <input id="chatInput" class="input" placeholder="对阿柴说点什么…" />
          <button id="chatSend" class="btn btn-primary sparkle" type="button">发送</button>
        </div>
      </div>
    </main>

    <footer class="site-footer">
      <div class="footer-note">小娜花园 · v11 · 主题&天气边框升级</div>
    </footer>
  </div>

  <script src="main.js"></script>
</body>
</html>
