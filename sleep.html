<!DOCTYPE html>

<html lang="zh-CN">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<title>小娜花园 · 睡眠</title>
<link href="style.css" rel="stylesheet"/>
<link href="chatbot.css" rel="stylesheet"/>
<link href="manifest.json" rel="manifest"/>
<meta content="#2f6b53" name="theme-color"/>
<link href="icons/icon-192.png" rel="icon"/>
<link href="icons/icon-192.png" rel="apple-touch-icon"/>
<script defer="" src="themePicker.js"></script>
<script defer="" src="pwa.js"></script>
<script defer="" src="sleep.js"></script>
<script defer="" src="chatbot.js"></script>
<script defer="" src="woolfQuotes.js"></script>
<script defer="" src="quoteInit.js"></script><script defer="" src="sync.js"></script></head>
<body class="theme-fern">
<div aria-hidden="true" class="border-frame">
<div class="border-pattern"></div>
<div aria-hidden="true" class="weather-ornaments" id="weatherOrnaments"></div>
</div>
<div class="page">
<nav class="top-nav"><a class="nav-item" data-nav="home" href="index.html">🏡 首页</a><a class="nav-item" data-nav="reading" href="reading.html">📚 阅读</a><a class="nav-item" data-nav="writing" href="writing.html">✍️ 写作</a><a class="nav-item" data-nav="sleep" href="sleep.html">🌙 睡眠</a><a class="nav-item nav-extra" data-nav="exercise" href="exercise.html">🏃 运动</a><a class="nav-item nav-extra" data-nav="todo" href="todo.html">📋 待办</a><a class="nav-item nav-extra" data-nav="goals" href="goals.html">🎯 目标</a><div class="nav-more"><button aria-expanded="false" aria-haspopup="true" class="nav-item nav-more-btn" id="moreBtn">⋯ 更多</button><div class="nav-more-menu" id="moreMenu" role="menu"><a class="nav-item" data-nav="exercise" href="exercise.html" role="menuitem">🏃 运动</a><a class="nav-item" data-nav="todo" href="todo.html" role="menuitem">📋 待办</a><a class="nav-item" data-nav="goals" href="goals.html" role="menuitem">🎯 目标</a></div></div><div class="nav-spacer"></div><button class="chip-btn" id="themeToggle" title="选择主题">🌿 主题</button></nav>
<header class="hero">
<div class="hero-left">
<h1 class="title">睡眠</h1>
<p class="subtitle">把身体养回来：温柔但有数据。</p>
</div>
<div class="hero-right">
<div class="card compact"><div class="card-title">📖 伍尔夫随机一句</div><blockquote class="quote" id="woolfQuote"></blockquote><div class="quote-src" id="woolfQuoteSource"></div></div>
</div>
</header>
<main class="grid">
<section class="card span-2">
<div class="card-title">🌙 睡眠记录</div>
<div class="row">
<input class="input" id="sDate" type="date"/>
<input class="input" id="sHours" min="0" placeholder="睡眠小时（例如：7.5）" step="0.25" type="number"/>
<button class="btn" id="sSave">保存</button>
</div>
<div class="divider"></div>
<div class="mini-title">最近 7 次</div>
<div class="kv-list" id="sList"></div>
</section>
</main>
<footer class="footer"><span class="muted">小娜花园 · 睡眠页</span></footer>
</div>
<button aria-label="打开柴柴助理" class="floating-chat" id="toggle-chatbot">☁️</button>
<div aria-label="柴柴助理聊天窗" class="chatbox" id="chatbot-box" role="dialog">
<div class="chatbox-header" id="chatbot-header">
<span>柴柴助理</span>
<button aria-label="关闭" class="chatbox-close" id="close-chatbot">×</button>
</div>
<div class="chatbox-area" id="chat-area"></div>
<div class="chatbox-input" id="user-input-container">
<input class="input" id="user-input" placeholder="我在呢…"/>
<button class="btn" id="send-btn">发送</button>
</div>
<div class="chatbox-footnote"><span class="muted">需要 /api/chat + OPENAI_API_KEY。</span></div>
</div>
<!-- Theme Picker Modal -->
<div aria-hidden="true" class="theme-picker" id="themePicker">
<div aria-label="主题选择" class="theme-picker-panel" role="dialog">
<div class="theme-picker-head">
<div class="theme-picker-title">选择主题 · <span id="themeCurrent">叶影</span></div>
<button aria-label="关闭" class="icon-btn" id="themeClose">✕</button>
</div>
<div class="theme-grid" id="themeGrid"></div>
<div class="theme-picker-tip">提示：主题会记住，下次打开还是它。</div>
</div>
</div>
</body>
</html>